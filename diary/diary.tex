\documentclass{article}
\usepackage{braket}
\usepackage{amsmath}

\begin{document}
\section*{January 19th 2023}
Working on understanding Majorana polarization. So we want to find two Hermitian Majoranas $\gamma^+$ and $\gamma^-$ (left/right Majorana) and form a non-local fermion
\begin{equation}
   f = \frac{1}{2}(\gamma^+ + i\gamma^-), 
\end{equation}
such that $f^\dag\ket{o} = \ket{e}$. Then we get $\ket{e} = \gamma^+\ket{o}$ and $\ket{e} = -i\gamma^-\ket{o}$. We can expand these Majoranas in the Hermitian site-Majoranas $\gamma_j^+ = d^\dag_j + d_j$ and $\gamma^-_j = i(d^\dag_j - d_j)$
\begin{equation}
\begin{split}
    \gamma^+ &= \sum_{j,s} a_j^s \gamma_j^s \\
    \gamma^- &= \sum_{j,s} b_j^s \gamma_j^s. 
\end{split}
\end{equation}
We then calculate e.g.,
\begin{equation}
    \begin{split}
        \braket{o|\gamma_j^+|e} &= \braket{o|\gamma_j^+ \gamma^+|o} = \braket{o|\gamma_j^+ \sum_{k,s} a_k^s \gamma_k^s|o} = \braket{o|a_j^+ + \sum_{(k, s)\neq(j,+)}a_k^s\gamma_j^+\gamma_k^s|o} \\
                                &= a_j^+ + \sum_{(k, s)\neq(j,+)} a_k^s \braket{o|\gamma_j^+\gamma_k^s|o}
    \end{split}
\end{equation}
but $\braket{o|\gamma_j^+\gamma_k^s|o}^*=\braket{o|\gamma_k^s\gamma_j^+|o} = -\braket{o|\gamma_j^+\gamma_k^s|o}$ (by using anti-commutation). Hence the second term is purely imaginary and we can write (analogously for the other coefficients)
\begin{equation}
    \begin{split}
        a_j^+ &= \operatorname{Re}\{\braket{o|\gamma_j^+|e}\} \\
        a_j^- &= \operatorname{Re}\{\braket{o|\gamma_j^-|e}\} \\
        b_j^+ &= -\operatorname{Im}\{\braket{o|\gamma_j^+|e}\} \\
        b_j^- &= -\operatorname{Im}\{\braket{o|\gamma_j^-|e}\} \\
    \end{split}
\end{equation}
since the $a,b$ coefficients are real ($\gamma^+$ and $\gamma^-$ are Hermitian). If the Hamiltonian is real (?), $a_j^- = b_j^+ = 0$ and we can skip taking the real part.

\begin{enumerate}
    \item What have we assumed when doing this? Have we assumed that we have good left/right majoranas and then derived their expansion?
\end{enumerate}

\section*{January 20th 2023}
The Majorana polarization is defined in e.g., Aksenov 2020 as roughly (though not taking into account taking the real part as above)

\begin{equation}
    \text{MP} = \frac{\sum_j^{'} {a_j^+}^2 - {b_j^-}^2}{\sum_j^{'} {a_j^+}^2 + {b_j^-}^2}
\end{equation}
where the prime means to sum over half of the chain. This seems to depend on how much of $\gamma^-$ has leaked into the left side. 

\begin{enumerate}
    \item What is the meaning of the MP\@? Relation to original paper?
    \item Is it reasonably defined? What if we have an imaginary part? Spin?
    \item What if one Majoranas leaks to the opposite half but the other does not?
    \item Could you do a normal scalar product to calculate overlap?
    \item If no overlap, the denominator is not necessary since the sum of the coefficients squared is unity (see below).
\end{enumerate}
Proved that $\sum_k {a_k^+}^2 = 1$ by induction, anti-commutation relations and that the majoranas square to one, assuming that we only get the + coefficients. Also tried out the MP on the Poor mans geometry.
\section*{January 23rd, 2023}
\begin{enumerate}
    \item Confused about Fourier transform of second quantization operators. Turns out it can be seen as a basis change between position and momentum space bases. See p. 16 to 18 in Flensberg Many body.
    \item Started trying to derive bulk energies of Kitaev chain with periodic boundary condition (Alicea).
    \item Discussed MP with Viktor, seems like the normalization is not good. One special case with overlap only on right side, still unity MP\@. To include spin one can subtract the spin part, such that it measures how lonely one of the spin species is. 
    \item Then I started looking through the derivation in Akhmerov to try and understand how the Kitaev chain emerges from local coupling.
\end{enumerate}

\section*{January 24th, 2023}
Working on the derivation in Akhmerov, struggling with Maple. Might have a problem with one of my rules, giving the wrong sign in the new operators.
\section*{Januray 25th, 2023}
Found problem with sign, just took other branch of $\Delta$. Struggling with getting the correct phases of the $a$ and $b$ operators in Maple, but I think I got it. Expressed the old $c$ operators in the new $a$ and $b$. Inserted it in Hamiltonian. The dot hamiltonian of course reduces to only $a^\dag a$ and $b^\dag b$ so only spin-orbit/rotation left. Found out what $e^{i\boldsymbol{\lambda}\boldsymbol{\sigma}}$ actually means, it is the matrix representation of the rotation operator $D(n,2\lambda)$ which rotates the spin $2\lambda$ around the $n$ axis. Also, very convenient to use Pauli matrix exponent formula. Very messy algebra however, try to get to Akhmerov. Don't understand how to/the reason why you can project onto the $a$ operators.

\section*{Janurary 26th}
Looked at job openings before lunch. After lunch I managed to get to the expression for the tunneling in Akhmerov. Still confused about how you can remove all $b$ operators and what the conditions of doing it are. Thinking about the conditions on the parameters to get to the topological phase.

\section*{January 27th}
Rewrote the derivation of Akhmerov more neatly. Discussed with Viktor:
\begin{itemize}
    \item We can neglect the $b$ operators at $V\gg w$ since the $b$-states are far off in energy and do not affect the ground state (which is what we are interested in). Perhaps one can think about it in terms of line width?
    \item The limit $V \gg w$ also implies $\Delta_{ind}\propto \Gamma_{SC}, \mu_n \gg w$. So in essence we need large Zeeman splitting, SC-dot coupling and chemical potential to obtain Kitaev chain with local SC-coupling.
    \item Also interesting that the particles in the emerging Kitaev chain are these $a$ operators (Bogoliubov-like), not electrons.
    \item Next up is to
        \begin{enumerate}
            \item Write up the Akhmerov Hamiltonian with constant SC-phase, spin-orbit rotation and spin-orbit direction, and maybe do a gauge transformation to only get one phase.
            \item Implement the model as well as the Kitaev chain in code.
            \item Implement a MP function for each model.
            \item Compare MP and energy gap in Kitaev and local coupling model.
        \end{enumerate}
    \item I don't understand how to do the scanning of MP and gap. I need to scan $\lambda$ probably such that it takes linear steps in $\Delta$?
    \item For the MP I now need to sum over three indices.
\end{itemize}
\section*{January 30th}
Wrote down and implemented Akhmerov model with constant spin-orbit direction. Implemented the Kitaev model. Made heatmaps of MP and energy gap for Kitaev model. SC lab and lecture. Tomorrow, write down SC summary and hand in exercises. Do the lab plotting. Maybe structure my code, move calculations to src and plotting to scripts.
\section*{January 31st}
Done with SC summaries and lab data analysis.
\section*{February 1st}
Handed in hand-in. Structuring code. Confused about Revise when editing multiple files. I think I need to create a package/module in src! Meeting with Martin:
\begin{itemize}
    \item Discussing Akhmerov
    \item I need to do 1D scan in my model with constant $w$ and $\epsilon$, varying $\lambda$ such that $\Delta$ changes but $t$ constant.
    \item Look at adding Coulomb interaction, see how it looks like with $a$ and $b$ operators.
    \item MP, try both with $a$ and $b$ operators and with original $c$ operators (add spin up and down, they are the same majorana!), should be same.
    \item A little confused about $V_z$ being positive/negative.
\end{itemize}
\section*{February 2nd}
Worked on figuring out workflow. Created package/module in src and structured everything, works now with Revise. Started with some scans of MP and gap for the local pairing model. Need to figure out how to set variables and scan $\lambda$ to reach sweet spot $t=\Delta$. Should try implementing MP with $a, b$ operators.
\section*{February 3rd}
Did scans of $\lambda$, keeping everything else constant and reached sweet spot at $\lambda = 2\alpha$. Tried working on scanning $\lambda$, changing Kitaev $\Delta$ but keeping $t$ constant, a bit tricky. Also worked on the setup of the Hamiltonian. I believe it's best to keep all parameters in a dictionary. Contemplating whether to keep the option for having varying parameters across the chain. Wrote something to be able to vary different stuff in a 1d scan, don't know if it's great. Should write a general Majorana polarization function which automatically does the Kitaev/spinful calculation depending on input.
\section*{February 13th}
Changed the hamiltonians to taking the parameters in a dictionary instead. Kept the option to vary parameters across chain, even expanded it to Coulomb and Zeeman also. Fixed the function to vary stuff in a 1d scan. Now it can be used for both Kitaev and local pairing. Fixed the Majorana polarization function such that it can do both spinless and spinful. Did some plots scanning $\lambda$, confused about 2 things
\begin{itemize}
    \item Seems to be more sweet spots than expected
    \item Odd number of dots seems to drastically change how much the energy gap varies
\end{itemize}
Should do a proper calculation of sweet spots and think about how to do the local pairing vs kitaev plot.
\section*{February 14th}
Now I have a working comparison between local pairing and kitaev, the former approaching the latter with increasing $V_z$. Also added all Majorana coefficients to the MP calculation functions. Next maybe to investigate finite $U$?
\end{document}
